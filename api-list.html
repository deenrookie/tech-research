<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Web SDK 全功能清单</title>
</head>
<body>

<style>
*{
	margin:0;
	padding:0;
	list-style:none;
	font-size:100%;
}	
h1{
	font-size:200%;
}
h2{
	font-size:150%；
}
.rc-api{
	margin:1em;
}
.rc-title{
	background:#f5f5f5;
	border-bottom:1px solid #dedede;
	padding:10px;
	position:fixed;
	left:1em;
	right:1em;
	top:1em;
}
.rc-title time{
	float:right;
	margin-top:-1.5em;
}
.rc-api-menu{
	width:160px;
	position:fixed;
	left:1.4em;
	top:7em;
}
.rc-api-sub{
	margin-bottom:1em;
}
.rc-api-sub ol{
	margin-left:1em;
}
.rc-api-sub a{
	color:#333;
	text-decoration:none;
	line-height:2;
}

.rc-api-main{
	margin-left:210px;
	margin-top:7em;
	min-height:800px;
	border-left:1px solid #dedede;
	padding-left:2em;
}

.rc-api-content{
	font-size:14px;
	line-height:1.8;
	margin-bottom:5em;
}
.rc-api-content h2{
	background:#f5f5f5;
	border-bottom:1px solid #dedede;
	padding:10px;
	font-size:18px;
	margin-bottom:1em;
}
.rc-api-content textarea{
	width:80%;
	height:12em;
	color:#f5f5f5;
	background:#000;
	border-bottom:1px solid #000;
	padding:1em 1em 5em 1em;
}
.rc-api-run{
	display:block;
	cursor:pointer;
	padding:0 3em;
	background:#f5f5f5;
	color:#000;
	width:3em;
	line-height:3em;
	height:3em;
	margin:-4.5em 0 0 1em;
	position:relative;
	border-radius:5px;
}

.rc-result{
	border:1px solid #ccc;
	background:#333;
	color:green;
	padding:2em;
	width:25em;
	height:20em;
	overflow:auto;
	position:fixed;
	right:1em;
	bottom:1em;
}
</style>


<script src="//cdn.ronghub.com/RongIMLib-2.3.0.js?00"></script>
<script src="//cdn.ronghub.com/RongEmoji-2.2.4.min.js"></script> 
<script src="//cdn.ronghub.com/RongIMVoice-2.2.4.min.js"></script>

<script src="lib/jquery-3.1.1.min.js"></script>	

<script>
function print(data){
	var code = "";
	if(typeof data == "object"){
		for(var p in data);
			code = p + ":" + data[p] + "<br>";
	}else{
		code = data + "";
	}
	$(".rc-result").html( $(".rc-result").html() + code + '<br>');
}	
</script>

<div class="rc-api">
	<div class="rc-title">
		<h1>Web SDK 2.3.0 全功能清单</h1>
		<time>更新时间：2018-3.30</time>
	</div>

	<div class="rc-api-menu">
		<div class="rc-api-sub">
			<h2>初始化、链接</h2>
			<ol>
				<li><a href="#init">初始化</a></li>
				<li><a href="#connect">链接</a></li>
				<li><a href="#disconnect">断开链接</a></li>
				<li><a href="#reconnect">重链</a></li>
			</ol>
		</div>
		<div class="rc-api-sub">
			<h2>接收消息</h2>
			<ol>
				<li><a href="#messageType">消息类型</a></li>
				<li><a href="#receive">新消息</a></li>
				<li><a href="#unread">未读消息</a></li>
				<li><a href="#histroy">历史消息</a></li>
			</ol>
		</div>
	</div>

	<div class="rc-result"></div>

	<div class="rc-api-main">
		<div class="rc-api-content">
			<h2 id="init">初始化</h2>
			<div class="rc-api-desc">功能说明：xxxxxxxxxxx</div>
			<div class="rc-api-code">
				<textarea name="" id="">var appKey = "8w7jv4qb78a9y";
RongIMLib.RongIMClient.init(appKey);
var instance = RongIMClient.getInstance();
print(instance);
			</textarea>
				<span class="rc-api-run">运行</span>
			</div>
		</div>



		<div class="rc-api-content">
			<h2 id="init">链接</h2>
			<div class="rc-api-desc">功能说明：xxxxxxxxxxx</div>
			<div class="rc-api-code">
				<textarea name="" id="">// 连接状态监听器
var token = "4FGCL0oQ/E72nU4ivbui8uHR/ySxKaD1cAX2biXsYR6RsLYO9xAA4ooa+q3n42JnVTQyMAdFUiDsjFRDYZaQeg==";					
RongIMClient.setConnectionStatusListener({
	onChanged: function (status) {
		print("链接状态： " + status);
	}
});

RongIMClient.setOnReceiveMessageListener({
	// 接收到的消息
	onReceived: function (message) {
	    // 判断消息类型
		print("新消息:");
		print(message);
	}
});

//开始链接
RongIMClient.connect(token, {
	onSuccess: function(userId) {
		print("链接成功，用户id：" + userId);
	},
	onTokenIncorrect: function() {
		print('token无效');
	},
	onError:function(errorCode){
		print(errorCode);
	}
});</textarea>
				<span class="rc-api-run">运行</span>
			</div>
		</div>


	</div>
</div>

<script>
$(".rc-api-run").click(function(){
	$(".rc-result").html("");
	eval($(this).prev().val());
});	
</script>
</body>
</html>