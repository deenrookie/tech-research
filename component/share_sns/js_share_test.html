<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>分享组件demo1</title>
	<link rel="stylesheet" href="http://qa.developer.163.com/system/docs_temp/api.css">
	<link rel="stylesheet" href="js_share_test.css">
	<base target="_blank">
</head>
<body>
	<div class="ad_top"></div>
	<div class="body">
		<div class="content">
			<div class="content_main">
				<h1>分享组件Demo</h1>
				<div class="share_wrap">
					<div class="share_ttl">分享到：</div>
					<ul class="js_share_list">
						<li>
							<i class="js_share js_share_sina" title="分享到新浪微博">分享到新浪微博</i>
						</li>
						<li>
							<i class="js_share js_share_renren" title="分享到人人网">分享到人人网</i>
						</li>
						<li>
							<i class="js_share js_share_youdao" title="分享到有道云笔记">分享到有道云笔记</i>
						</li>
						<li>
							<i class="js_share js_share_qzone" title="分享到QQ空间">分享到QQ空间</i>
						</li>
						<li>
							<i class="js_share js_share_yx" title="分享到易信">分享到易信</i>
						</li>
						<li>
							<i class="js_share js_share_lofter" title="分享到Lofter">分享到Lofter</i>
						</li>
						<li>
							<i class="js_share js_share_hot" title="分享到网易热">分享到网易热</i>
						</li>
						<li>
							<i class="js_qrcode_weixin" title="分享到微信">分享到微信</i>
						</li>
					</ul>
				</div>
				<div class="content_text">
					<h2>依赖</h2>
					<p> 需要引入NE库 http://img1.cache.netease.com/f2e/lib/js/ne.js</p>
					<h2>使用</h2>
					<p> 引入文件 http://qa.developer.163.com/component/share_sns/share.js</p>
					<p>一. 默认绑定</p>
					<p> js默认可为包含 .js_share 类名的元素进行点击事件绑定，按照该元素的属性 data-type 的值 或 类名 .js_share_{type} 的后缀进行分享渠道区分。</p>
					<p> 例如：&lt;i class="js_share js_share_sina" title="分享到新浪微博"&gt;分享到新浪微博&lt;/i&gt;</p>
					<p> 或者：&lt;i class="js_share" data-type="weibo" title="分享到新浪微博"&gt;分享到新浪微博&lt;/i&gt;</p>
					<p>二. 直接调用分享方法</p>
					<p> 除默认的类名绑定外，可以使用 shareto 方法进行分享，分享参数可单独设置。</p>
					<p> 方法为：shareto(type, url, title, description, pic, source, anchor, appkey, ralateUid)</p>
					<p> 参数均为str类型，均为非必须。参数依次为：</p>
					<ul>
						<li>type : 分享渠道</li>
						<li>url : 分享链接</li>
						<li>title : 分享标题</li>
						<li>description : 分享摘要</li>
						<li>pic : 分享图片地址</li>
						<li>source : 分享来源，仅对Lofter生效</li>
						<li>anchor : 分享回流链接中的标记，使用"#"或者"?"，默认使用"#"，如http://host.com/index.html#ntes_share_count=1&ntes_share=sns_weibo</li>
						<li>appkey : 分享appkey，用于分享到微博时显示"来自网易新闻"处，根据host自动匹配频道appkey，具体匹配见附录二</li>
						<li>ralateUid : 分享ralateUid，用于分享到微博时分享正文处自动@相关频道官方微博，根据host自动匹配频道官方微博，具体匹配见附录二</li>
					</ul>
					<p> 例如：&lt;i title="分享到新浪微博" onclick="shareto('weibo','http://www.163.com/','网易首页','网易是中国领先的互联网技术公司，为用户提供免费邮箱、游戏、搜索引擎服务，开设新闻、娱乐、体育等30多个内容频道，及博客、视频、论坛等互动交流，网聚人的力量。','http://img1.cache.netease.com/cnews/css13/img/logo_news.png','','?','','1929329727')"&gt;分享到新浪微博&lt;/i&gt;</p>
					<p> 或者：&lt;i title="分享到新浪微博" onclick="shareto('weibo')"&gt;分享到新浪微博&lt;/i&gt;</p>
					<h2> 注：</h2>
					<p> 所有分享按钮点击时，会按文章页现有规则给 http://analytics.163.com/ntes 发送点击日志</p>
					<h2>附录一：</h2>
					<p>分享渠道对应type</p>
				    <table style="text-indent:1em;">
				        <tr>
				            <th align="left">渠道</th>
				            <th></th>
				            <th align="left">type</th>
				        </tr>
				        <tr>
				            <td>新浪微博</td>
				            <td> ：</td>
				            <td>sina</td>
				            <td>weibo</td>
				            <td>sinawb</td>
				        </tr>
				        <tr>
				            <td>人人网</td>
				            <td> ：</td>
				            <td>rr</td>
				            <td>renren</td>
				        </tr>
				        <tr>
				            <td>有道云笔记</td>
				            <td> ：</td>
				            <td>yodao</td>
				            <td>youdao</td>
				            <td>ydCloud</td>
				        </tr>
				        <tr>
				            <td>QQ空间</td>
				            <td> ：</td>
				            <td>qzone</td>
				            <td>qqZone</td>
				        </tr>
				        <tr>
				            <td>Lofter</td>
				            <td> ：</td>
				            <td>163</td>
				            <td>lofter</td>
				        </tr>
				        <tr>
				            <td>易信</td>
				            <td> ：</td>
				            <td>yx</td>
				            <td>yixin</td>
				        </tr>
				        <tr>
				            <td>易信图片</td>
				            <td> ：</td>
				            <td>yx_image</td>
				            <td>yixin_image</td>
				        </tr>
				        <tr>
				            <td>网易热</td>
				            <td> ：</td>
				            <td>hot</td>
				            <td>163hot</td>
				            <td>hot163</td>
				        </tr>
				    </table>
				    <h2>附录二：</h2>
				    <p>默认新浪微博appkey及官方微博关联列表</p>
                    <table width="100%" style="text-indent:1em;">
                        <tr>
                            <th align="left">频道</th>
                            <th align="left">appkey</th>
                            <th align="left">ralateUid</th>
                        </tr>
                        <tr>
                            <td>网易新闻</td>
                            <td>603437721</td>
                            <td>1929329727</td>
                        </tr>
                        <tr>
                            <td>网易女人</td>
                            <td>1411153063</td>
                            <td>2696068553</td>
                        </tr>
                        <tr>
                            <td>网易艺术</td>
                            <td>-</td>
                            <td>2678435373</td>
                        </tr>
                        <tr>
                            <td>网易体育</td>
                            <td>618670090</td>
                            <td>2757394263</td>
                        </tr>
                        <tr>
                            <td>网易汽车</td>
                            <td>3619578257</td>
                            <td>2293532401</td>
                        </tr>
                        <tr>
                            <td>网易娱乐</td>
                            <td>2935209169</td>
                            <td>2674977220</td>
                        </tr>
                        <tr>
                            <td>网易房产</td>
                            <td>1228447084</td>
                            <td>2121786037</td>
                        </tr>
                        <tr>
                            <td>网易游戏</td>
                            <td>886946399</td>
                            <td>1871103515</td>
                        </tr>
                        <tr>
                            <td>网易财经</td>
                            <td>3369952587</td>
                            <td>1974561081</td>
                        </tr>
                        <tr>
                            <td>网易科技</td>
                            <td>3628156158</td>
                            <td>1905687615</td>
                        </tr>
                        <tr>
                            <td>网易手机</td>
                            <td>3009011254</td>
                            <td>2088265107</td>
                        </tr>
                        <tr>
                            <td>网易数码</td>
                            <td>515790538</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>网易家居</td>
                            <td>1915520969</td>
                            <td>2295046842</td>
                        </tr>
                        <tr>
                            <td>网易教育</td>
                            <td>3453163099</td>
                            <td>1712102637</td>
                        </tr>
                        <tr>
                            <td>网易校园</td>
                            <td>405912016</td>
                            <td>1712102637</td>
                        </tr>
                        <tr>
                            <td>网易旅游</td>
                            <td>2026652209</td>
                            <td>1663688317</td>
                        </tr>
                        <tr>
                            <td>网易公益</td>
                            <td>3492075339</td>
                            <td>1929329727</td>
                        </tr>
                        <tr>
                            <td>网易君子</td>
                            <td>3831755683</td>
                            <td>3755283417</td>
                        </tr>
                        <tr>
                            <td>网易酒香</td>
                            <td>2706186385</td>
                            <td>3194595594</td>
                        </tr>
                        <tr>
                            <td>网易花田</td>
                            <td>2946569561</td>
                            <td>2213659842</td>
                        </tr>
                        <tr>
                            <td>网易健康</td>
                            <td>-</td>
                            <td>5341241739</td>
                        </tr>
                    </table>
				</div>
			</div>
			<div class="content_side">
				<h3>新闻列表</h3>
				<ul>
					<li>
						<a href="http://news.163.com/15/0922/05/B43I63UP00014AED.html" target="_blank">1.千古难题"母亲女友先救谁"入国家司法考试</a>

						<p class="sharetitle">分享到</p>
						<ol class="ns-share13-dark">
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到易信"><i class="ns-share-icon ns-share-yixin" onclick="shareto('yixin','http://news.163.com/15/0922/05/B43I63UP00014AED.html','千古难题“母亲女友先救谁”入国家司法考试')"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到Lofter"><i class="ns-share-icon ns-share-lofter" onclick="shareto('lofter','http://news.163.com/15/0922/05/B43I63UP00014AED.html','千古难题“母亲女友先救谁”入国家司法考试')"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到微信"><i class="ns-share-icon ns-share-weixin"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到QQ空间"><i class="ns-share-icon ns-share-qzone" onclick="shareto('qzone','http://news.163.com/15/0922/05/B43I63UP00014AED.html','千古难题“母亲女友先救谁”入国家司法考试')"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到微博"><i class="ns-share-icon ns-share-sinawb" onclick="shareto('weibo','http://news.163.com/15/0922/05/B43I63UP00014AED.html','千古难题“母亲女友先救谁”入国家司法考试')"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到人人"><i class="ns-share-icon ns-share-renren" onclick="shareto('renren','http://news.163.com/15/0922/05/B43I63UP00014AED.html','千古难题“母亲女友先救谁”入国家司法考试')"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到有道云笔记"><i class="ns-share-icon ns-share-youdao" onclick="shareto('youdao','http://news.163.com/15/0922/05/B43I63UP00014AED.html','千古难题“母亲女友先救谁”入国家司法考试')"></i></a>
					        </li>
						</ol>
					</li>
					<li>
						<a href="http://money.163.com/special/xijinpingfangmei/" target="_blank">2.习近平：经济放缓不会阻止必要改革</a>

						<p class="sharetitle">分享到</p>
						<ol class="ns-share13-dark">
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到易信"><i class="ns-share-icon ns-share-yixin" onclick="shareto('yixin','http://money.163.com/special/xijinpingfangmei/','习近平：经济放缓不会阻止必要改革')"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到Lofter"><i class="ns-share-icon ns-share-lofter" onclick="shareto('lofter','http://money.163.com/special/xijinpingfangmei/','习近平：经济放缓不会阻止必要改革')"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到微信"><i class="ns-share-icon ns-share-weixin"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到QQ空间"><i class="ns-share-icon ns-share-qzone" onclick="shareto('qzone','http://money.163.com/special/xijinpingfangmei/','习近平：经济放缓不会阻止必要改革')"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到微博"><i class="ns-share-icon ns-share-sinawb" onclick="shareto('weibo','http://money.163.com/special/xijinpingfangmei/','习近平：经济放缓不会阻止必要改革')"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到人人"><i class="ns-share-icon ns-share-renren" onclick="shareto('renren','http://money.163.com/special/xijinpingfangmei/','习近平：经济放缓不会阻止必要改革')"></i></a>
					        </li>
							<li class="ns-share-item">
					            <a href="javascript:;" target="_self" title="分享到有道云笔记"><i class="ns-share-icon ns-share-youdao" onclick="shareto('youdao','http://money.163.com/special/xijinpingfangmei/','习近平：经济放缓不会阻止必要改革')"></i></a>
					        </li>
						</ol>
					</li>
				</ul>
			</div>
		</div>
	</div>
<div class="nt-wx2dcode-pop">               
    <div class="nt-wx2dcode-pic js_share_qrcode"></div>
    <div class="nt-wx2dcode-text">用微信扫描二维码<br>分享至好友和朋友圈</div>
    <a href="javascript:;" target="_self" class="nt-wx2dcode-close">x</a>
</div>
<style>
/*分享参考样式*/
.js_share_list{overflow:hidden;list-style:none;margin:0}
.js_share_list li{float:left;margin-right:3px}
.js_share_list a{display:block;width:40px;height:28px}
.js_share_list i{display:inline-block;width:40px;height:28px;overflow:hidden;cursor:pointer;background:url(http://img5.cache.netease.com/f2e/news/index2015/img/share16_icon_v1.png);line-height: 90px;}
.js_share_list .js_share_hot{background-position:-280px 0}
.js_share_list .js_share_hot:hover{background-position:-280px -28px}
.js_share_list .js_share_yixin{background-position:0 0}
.js_share_list .js_share_yixin:hover{background-position:0 -28px}
.js_share_list .js_share_lofter{background-position:-40px 0}
.js_share_list .js_share_lofter:hover{background-position:-40px -28px}
.js_share_list .js_qrcode_weixin{background-position:-80px 0}
.js_share_list .js_qrcode_weixin:hover{background-position:-80px -28px}
.js_share_list .js_share_qzone{background-position:-120px 0}
.js_share_list .js_share_qzone:hover{background-position:-120px -28px}
.js_share_list .js_share_sina{background-position:-160px 0}
.js_share_list .js_share_sina:hover{background-position:-160px -28px}
.js_share_list .js_share_renren{background-position:-200px 0}
.js_share_list .js_share_renren:hover{background-position:-200px -28px}
.js_share_list .js_share_youdao{background-position:-240px 0}
.js_share_list .js_share_youdao:hover{background-position:-240px -28px}
/* share13-dark */
.ns-share13-dark { overflow: hidden; list-style:none; margin: 0; padding: 10px 0;float: left;}
.ns-share13-dark .ns-share-item {float: left; padding: 0 5px;}
.ns-share13-dark .ns-share-icon { display: inline-block; width: 24px; height: 24px; overflow: hidden; background: url(share13_fixed.png);transition: background .3s;}
.ns-share13-dark .ns-share-sinawb { background-position: -25px 0; }
.ns-share13-dark .ns-share-qzone { background-position: -75px 0; }
.ns-share13-dark .ns-share-renren { background-position: -125px 0; }
.ns-share13-dark .ns-share-youdao { background-position: -175px 0; }
.ns-share13-dark .ns-share-yixin { background-position: -225px 0; }
.ns-share13-dark .ns-share-weixin { background-position: -275px 0; }
.ns-share13-dark .ns-share-lofter { background-position: -325px 0; }
.ns-share13-dark a:hover .ns-share-sinawb { background-position: -25px -25px; }
.ns-share13-dark a:hover .ns-share-qzone { background-position: -75px -25px; }
.ns-share13-dark a:hover .ns-share-renren { background-position: -125px -25px; }
.ns-share13-dark a:hover .ns-share-youdao { background-position: -175px -25px; }
.ns-share13-dark a:hover .ns-share-yixin { background-position: -225px -25px; } 
.ns-share13-dark a:hover .ns-share-weixin { background-position: -275px -25px; } 
.ns-share13-dark a:hover .ns-share-lofter { background-position: -325px -25px; }

.nt-wx2dcode-pop {display:none;top:100px;left:20px;position:absolute;width:295px;height:160px; background: #fff; -webkit-box-shadow: 0 0 8px #cdcdcd; -moz-box-shadow:0 0 8px #cdcdcd; box-shadow:0 0 8px #cdcdcd;}
.nt-wx2dcode-pic {padding:20px 0 0 18px;width:120px;height:120px;overflow:hidden;float:left;}
.nt-wx2dcode-text {width:124px;font:12px/30px 宋体;color:#656565;float:right;padding: 30px 0 0 0;}
.nt-wx2dcode-close {color:#bbb;position:absolute;width:10px;height:10px;right:10px;top:16px;font:16px/10px "Verdana" "Lucida Console";text-decoration:none;}
.nt-wx2dcode-close:visited {color:#bbb;}
.nt-wx2dcode-close:hover {color:#333;}
</style>
<script>
	window.js_share_unbind = false;
</script>
<script src="http://img1.cache.netease.com/cnews/js/qrcode.js"></script>
<script src="../../lib/js/ne.js"></script>
<script src="share.js"></script>
<script>
	function getOffset(el) {
        
        var top = el.offsetTop;
        var left = el.offsetLeft;
        
        while(el.offsetParent){
            el = el.offsetParent;
            top += el.offsetTop;
            left += el.offsetLeft;
        }
        
        return {
            left: left,
            top: top
        }
    } 
	NE(".js_qrcode_weixin").bind("click",function() {
		var offset = getOffset(this);
        NE(".nt-wx2dcode-pop")[0].style.display = 'block';
        NE(".nt-wx2dcode-pop")[0].style.left = offset.left - 86 + 'px';
        NE(".nt-wx2dcode-pop")[0].style.top = offset.top + this.clientHeight + 8 + 'px';
        nxkey = Math.random().toString().substr(2,6);
        ntit = escape(document.title);
        nurl = escape(window.location.protocol.replace(":","") + '://snstj.' + window.location.host + window.location.pathname+'?snstj_weixin');
        tjurl='http://analytics.163.com/ntes?_nacc=snstj&_nvid=VISITOR_CLIENT_NO_COOKIE_SUPPORT&_nvtm=0&_nvsf=0&_nvfi=0&_nlag=&_nlmf=0&_nres=&_nscd=&_nstm=0&_nurl='+nurl+'&_ntit='+ntit+'&_nref=&_nfla=&_nssn=&_nxkey='+nxkey+'&_end1';
        img = new Image();
        img.src = tjurl;
	});
	NE(".nt-wx2dcode-close").bind('click', function() {
        NE(".nt-wx2dcode-pop")[0].style.display = "none";
    });
</script>
<script src="http://analytics.163.com/ntes.js" type="text/javascript"></script>
</body>
</html>