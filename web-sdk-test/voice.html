<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>voice</title>
<style>
    button{
        margin-top: 200px;
        margin-left: 50px;
        height: 100px;
        width: 150px;
    }
</style>
</head>
<body>
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<!-- <script src="lib/swfobject-rongcloud-2.0.0.js"></script> -->
 <script src="//cdn.ronghub.com/swfobject-2.0.0.min.js"></script> 
  <script src="//res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>  
<script src="lib/libamr-min-new.js"></script>	
<script src="./voice.js"></script>

 <script src="./voiceComponent.js"></script> 

<script src="./res/voice-amr-base64.json"></script>
<div>
    <ul class="voice-list">
        <li class="voice-item">鉴于语音消息一般是接收到新消息后动态写入的，所以 demo 里的播放按钮使用 jQuery 动态插入，</li>
    </ul>   
</div>

<script>

$(".voice-list").append('<li class="voice-item"><button onclick="play()" class="play">播放</button><button onclick="pause()" class="pause">停止</button></li>');

RongIMVoice.init();
function play(){
    RongIMVoice.Player.play(voice, {
        onbeforeplay: function(){
            console.log('onbeforeplay');
        },
        onplayed: function(){
            console.log('onplayed');
        },
        onended: function(){
            console.log('onended');
        }
    });
};

function pause(){
	RongIMVoice.Player.pause();
} 
</script>

</body>
</html>
