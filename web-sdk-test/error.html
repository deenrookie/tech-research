<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>onerror</title>
</head>
<body>
<!-- 
docs：
	https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror

	https://blog.sentry.io/2016/01/04/client-javascript-reporting-window-onerror.html

	https://docs.sentry.io/clients/javascript/
-->

<script>
var env = "test";  //online
if(location.href.indexOf("?env=online") > -1){
	env = "online";
}
function throwErr(args){
    var info = JSON.stringify(args,null,"\t");
	if(env == "test"){
		throw new Error(info); 
	}else{
		console.log(info);
	}
}	
</script>

<script>
var hisMessageStatus = "close";

getHisMessage();

function getHisMessage(arguments){
	if(hisMessageStatus != "open"){
		var data = {
			"doc" : "http://www.rongcloud.cn/docs/web.html#获取历史消息",
			"info" : "历史消息云存储 功能未开通"
		}
		throwErr(data);
		return false;
	}
	/*
	获取逻辑
	*/ 
}

// trownErr({
// 	func : "histroy",
// 	info : "参数参数",
// 	doc : "http://www.rongcloud.cn/docs/web.html"
// });

</script>
	
</body>
</html>