<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>battery</title>
</head>
<body>

<h1>battery</h1>
<p>docs: <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/BatteryManager">https://developer.mozilla.org/zh-CN/docs/Web/API/BatteryManager</a></p>	

<script>
//返回promise对象
navigator.getBattery().then(function(battery) {

  console.log("Battery charging? " + (battery.charging ? "Yes" : "No"));
  console.log("Battery level: " + battery.level * 100 + "%");
  console.log("Battery charging time: " + battery.chargingTime + " seconds");
  console.log("Battery discharging time: " + battery.dischargingTime + " seconds");

  battery.addEventListener('chargingchange', function() {
    console.log("Battery charging? " + (battery.charging ? "Yes" : "No"));
  });

  battery.addEventListener('levelchange', function() {
    console.log("Battery level: " + battery.level * 100 + "%");
  });

  battery.addEventListener('chargingtimechange', function() {
    console.log("Battery charging time: " + battery.chargingTime + " seconds");
  });

  battery.addEventListener('dischargingtimechange', function() {
    console.log("Battery discharging time: " + battery.dischargingTime + " seconds");
  });

});

</script>

</body>
</html>