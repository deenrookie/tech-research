<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" crossorigin="anonymous">
<meta charset="UTF-8">
<title>Emoji</title>
</head>
<body>

<style>
body{
    font-family:arial;
    padding:10px;
}
pre.code{
    padding:5px;
    border:1px solid #ccc;
    background:#f5f5f5;
    border-radius:3px;
    font-family:arial;
    line-height:2;
}
p {
    margin: 5px;
    margin-left: 0;
}
ol li {
    margin-bottom: 10px;
}
ol ol, ol ul, ul ol, ul ul {
    padding-left: 17px;
}
.support-list{
    background:#f5f5f5;
    line-height: 2;
    font-size: 12px;
}   
.doc-content {
    font-size: 13px;
    background:#f5f5f5;
    padding-bottom: 10px;
    padding-top: 10px;
}

a {
    cursor: pointer;
}

</style>

<script src="emoji.js"></script> 

<h1>Emoji</h1>

<h2>融云消息 message 里的 emoji 说明</h2>
<ol>
    <li>
        <p>发消息时，必须直接发送emoji原生字符。如：😀 ，转换方法：symbolToEmoji</p>
    </li>
    <li>
        <p>Web SDK接收消息时接收到的是unicode编码(”\uf600”)，需用 messageDecode 转化成原生emoji</p>
    </li>
</ol>

<h2>SDK 说明</h2>
<ol>
    <li>
        <p>emoji SDK 内置支持 128个emoji表情，主要是为了做消息输入框的表情选项</p>
    </li>
    <li>
        <p><a>emoji SDK 初始化</a></p>
        <pre id="initCode">
    //1，使用默认配置, 直接初始化
    RongIMLib.RongIMEmoji.init();

    //2，不使用默认配置，自定义初始化
    // 表情信息可参考 <a href="http://unicode.org/emoji/charts/full-emoji-list.html">http://unicode.org/emoji/charts/full-emoji-list.html</a>
    
    // 扩展表情，设置扩展表情的信息
    var emoji = {
        dataSource: {
            "表情unicode码":{
                "en":"英文名称",
                "zh":"中文名称",
                "tag":"原生表情字符",
            },
        }
    };
    // 自定义设置
    var config = {
        lang: '选择的语言',
        reg: '匹配unicode的正则表达式'  //解析unicode emoji的范围，doc：http://unicode.org/reports/tr51/index.html
    };
    init(emoji, config);
        </pre>
    </li>
    <li>
        <p><a>SDK API</a></p>
        <p>var emoji = require("./emoji.js");</p>
        <table id="sdkFuc" class="table table-bordered" style="width: 97%">
            <thead>
                <tr>
                    <th style="width:200px;">方法</th>
                    <th style="width:400px;">使用示例</th>
                    <th>方法说明</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>emojis</td>
                    <td>var emojis = emoji.emojis;</td>
                    <td> 获取全部原生表情，<br>["😀", "😁", ………]</td>
                </tr>
                 <tr>
                    <td>names</td>
                    <td>var names = emoji.names;</td>
                    <td>获取全部表情的对应文字说明, 语言为config中设置的语言，默认中文，<br>["[大笑]", "[露齿而笑]", ………]</td>
                </tr>
                <tr>
                    <td>data</td>
                    <td>var data = emoji.data;</td>
                    <td>获取所有数据，方便二次开发<br> [{emoji:"😀",en:"grinning",name:"[大笑]",zh:"大笑"}, ………]</td>
                </tr>
                 <tr>
                    <td>names</td>
                    <td>var names = emoji.names;</td>
                    <td>获取全部表情的对应文字说明, 语言为config中设置的语言，默认中文</td>
                </tr>
                <tr>
                    <td>emojiToSymbol(emoji, reg)</td>
                    <td>var symbol = emoji.emojiToSymbol('我😁 '); <br> 返回值：我[露齿而笑]</td>
                    <td>获取全部表情的对应文字说明, 名字的语言为config中设置的语言，默认中文</td>
                </tr>
                <tr>
                    <td>symbolToEmoji(symbol)</td>
                    <td>var emoji = emoji.symbolToEmoji('我[露齿而笑] ');<br> 我是一个表情😁 </td>
                    <td>将emoji的对应名称转化为原生emoji字符。
                    发送消息时，消息体里必须使用原生emoji字符，需要使用该方法进行转换。</td>
                </tr>
                <tr>
                    <td>unicodeToEmoji(emoji, reg)</td>
                    <td>var message = emoji.unicodeToEmoji('收到一条消息 \uf601'); <br>返回值： 收到一条消息 😁</td>
                    <td>SDK 接收消息后，消息内的 Emoji 会被解码为对应的 unicode 码，如：\uf600。需使用该方法转化才能正确显示。</td>
                </tr>
            </tbody>
        </table>
    </li>
</ol>
<!-- 
<script src="emoji.js"></script>
<script>
emoji.init();

console.log(emoji.emojis)
console.log(emoji.names)
console.log(emoji.data)

alert(emoji.unicodeToEmoji('收到一条消息 \uf601 \uf604'))
alert(emoji.emojiToSymbol('我 😁 '))
alert(emoji.symbolToEmoji('我 [露齿而笑] [大笑]'))

//reg = \uf000-\uf700;
var unicodeEmoji;
var prefix = "000";
for(var i=0;i<700;i++){
  unicodeEmoji = i + "";
  unicodeEmoji = "\uf" + prefix.substring(0,3 - unicodeEmoji.length) + unicodeEmoji;
  console.log(emoji.unicodeToEmoji(unicodeEmoji));
}
</script> -->

</body>
</html>