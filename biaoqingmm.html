<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>biaoqingmm</title>
</head>
<body>
官网：http://www.biaoqingsdk.com/
文档：http://open.biaoqingmm.com/doc/rest/search/#gif_search

<pre>融云消息：
{
	"content": {
		"messageName": "UnknownMessage",
		"message": {
			"content": {
				"user": {
					"name": "魏钦校",
					"id": "LrkbEaEU5WCuo47MKiU82G"
				},
				"bqmmContent": "[赞]",
				"bqmmExtra": "{\n  \"txt_msgType\" : \"facetype\",\n  \"msg_data\" : [\n    [\n      \"txblajz\",\n      \"2\"\n    ]\n  ]\n}"
			},
			"objectName": "RCBQMM:EmojiMsg"
		}
	},
	"conversationType": 3,
	"objectName": "RCBQMM:EmojiMsg",
	"messageDirection": 2,
	"messageId": "3_5230935",
	"receivedStatus": 0,
	"receivedTime": 1496821932092,
	"senderUserId": "LrkbEaEU5WCuo47MKiU82G",
	"sentTime": 1496821864694,
	"targetId": "fxMFJF4T3wKS3xFvZD3p3D",
	"messageType": "UnknownMessage",
	"messageUId": "5E83-28OU-OE79-H8T0",
	"offLineMessage": true
}
</pre>

<script src="lib/jquery-3.1.1.min.js"></script>
<script src="lib/md5.min.js"></script>
<script>
var message = {
	"content": {
		"messageName": "UnknownMessage",
		"message": {
			"content": {
				"user": {
					"name": "魏钦校",
					"id": "LrkbEaEU5WCuo47MKiU82G"
				},
				"bqmmContent": "[赞]",
				"bqmmExtra": "{\n  \"txt_msgType\" : \"facetype\",\n  \"msg_data\" : [\n    [\n      \"txblajz\",\n      \"2\"\n    ]\n  ]\n}"
			},
			"objectName": "RCBQMM:EmojiMsg"
		}
	},
	"conversationType": 3,
	"objectName": "RCBQMM:EmojiMsg",
	"messageDirection": 2,
	"messageId": "3_5230935",
	"receivedStatus": 0,
	"receivedTime": 1496821932092,
	"senderUserId": "LrkbEaEU5WCuo47MKiU82G",
	"sentTime": 1496821864694,
	"targetId": "fxMFJF4T3wKS3xFvZD3p3D",
	"messageType": "UnknownMessage",
	"messageUId": "5E83-28OU-OE79-H8T0",
	"offLineMessage": true
}	

var BQMM_APP_ID = "TestId";
// var bqmmExtra = message.content.message.content.bqmmExtra;
var q = "txblajz";
var q = "hi";
var timestamp = new Date().getTime();
var protocol = location.protocol; //http:
var api = protocol + "//open-api.biaoqingmm.com/open-api/emojis/net/search";
var query1 = "app_id=" + BQMM_APP_ID + "&q=" + q + "&timestamp=" + timestamp;
var signature = window.md5(api + query1).toUpperCase();

/*
http://open-api.biaoqingmm.com/open-api/emojis/net/search?app_id=YOUR_APP_ID&q=hi&timestamp=1479696005651&signature=7A44A88202EAF9AF0A40A8AF843E229E
*/
var url = api + "?" + query1 + "&signature=" + signature;
console.log(url);
window.open(url);


</script>

	
</body>
</html>